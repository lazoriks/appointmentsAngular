<div class="card">
  <div class="row between">
    <h3>Clients</h3>
    <button class="ghost" (click)="openAdd()">Add</button>
  </div>

  <div *ngIf="loading">Loadingâ€¦</div>

  <table *ngIf="!loading">
    <thead>
      <tr>
        <th>ID</th><th>First Name</th><th>Surname</th><th>Mobile</th><th>Email</th><th>Google ID</th><th></th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let r of rows">
        <td>{{ r.id }}</td>
        <td>{{ r.firstName }}</td>
        <td>{{ r.surname || '-' }}</td>
        <td>{{ r.mobile }}</td>
        <td>{{ r.email || '-' }}</td>
        <td>{{ r.googleId || '-' }}</td>
        <td class="actions">
          <button class="ghost" (click)="openEdit(r)">Edit</button>
          <button class="danger" (click)="delete(r)">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<app-modal-form
  [title]="modalModel?.id ? 'Edit Client' : 'Add Client'"
  [visible]="modalVisible"
  [model]="modalModel"
  [fields]="fields"
  (save)="save($event)"
  (cancel)="modalVisible = false"
></app-modal-form>
