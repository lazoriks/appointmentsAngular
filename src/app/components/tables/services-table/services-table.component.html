<div class="card">
  <div class="row between">
    <h3>Services</h3>
    <button class="ghost" (click)="openAdd()">Add</button>
  </div>

  <div *ngIf="loading">Loading…</div>

  <table *ngIf="!loading">
    <thead>
      <tr>
        <th>ID</th><th>Name</th><th>Price</th><th>Period</th><th>Group</th><th>Description</th><th></th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let r of rows">
        <td>{{ r.id }}</td>
        <td>{{ r.serviceName }}</td>
        <td>€{{ r.price }}</td>
        <td>{{ r.period }} min</td>
        <td>{{ r.groupServiceId }}</td>
        <td>{{ r.description || '-' }}</td>
        <td class="actions">
          <button class="ghost" (click)="openEdit(r)">Edit</button>
          <button class="danger" (click)="delete(r)">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<app-modal-form
  [title]="modalModel?.id ? 'Edit Service' : 'Add Service'"
  [visible]="modalVisible"
  [model]="modalModel"
  [fields]="fields"
  (save)="save($event)"
  (cancel)="modalVisible = false"
></app-modal-form>
